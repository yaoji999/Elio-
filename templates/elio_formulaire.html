
<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>ELIO - Formulaire</title>
    <!-- Bootstrap 5 -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        :root {
            --bg: #f4f4f4;
            --text: #000;
            --card-bg: #fff;
            --progress: #000;
        }

        @media (prefers-color-scheme: dark) {
            :root {
                --bg: #121212;
                --text: #f5f5f5;
                --card-bg: #1e1e1e;
                --progress: #f5f5f5;
            }
        }

        body {
            background-color: var(--bg);
            color: var(--text);
        }

        #progress-bar {
            position: fixed;
            top: 0;
            left: 0;
            height: 4px;
            width: 0%;
            background-color: var(--progress);
            z-index: 9999;
            transition: width 0.4s ease;
        }

        .card {
            background-color: var(--card-bg);
            color: var(--text);
        }

        .form-control,
        .form-select {
            background-color: var(--card-bg);
            color: var(--text);
            border: 1px solid #ccc;
        }

        .form-control:focus,
        .form-select:focus {
            border-color: #666;
            box-shadow: none;
        }
    </style>
</head>
<body class="py-5">
  <div id="progress-bar"></div>

  <div class="container">
    <div class="row justify-content-center">
      <div class="col-md-8 col-lg-6">
        <div class="card shadow-sm p-4">
          <h1 class="text-center mb-3">ELIO</h1>
          <h5 class="text-center text-muted mb-4">Ton programme sport & nutrition personnalisé</h5>
          <form action="/generate" method="post">
            <div class="mb-3">
              <label for="age" class="form-label">Âge</label>
              <input type="number" class="form-control" name="age" id="age" required>
            </div>
            <div class="mb-3">
              <label for="taille" class="form-label">Taille (cm)</label>
              <input type="number" class="form-control" name="taille" id="taille" required>
            </div>
            <div class="mb-3">
              <label for="poids" class="form-label">Poids (kg)</label>
              <input type="number" class="form-control" name="poids" id="poids" required>
            </div>
            <div class="mb-3">
              <label for="objectif" class="form-label">Objectif</label>
              <select class="form-select" name="objectif" id="objectif" required>
                <option value="perte de poids">Perte de poids</option>
                <option value="prise de masse">Prise de masse</option>
                <option value="maintien">Maintien</option>
              </select>
            </div>
            <div class="mb-3">
              <label for="niveau" class="form-label">Niveau</label>
              <select class="form-select" name="niveau" id="niveau" required>
                <option value="débutant">Débutant</option>
                <option value="intermédiaire">Intermédiaire</option>
                <option value="avancé">Avancé</option>
              </select>
            </div>
            <div class="mb-3">
              <label for="jours" class="form-label">Jours d'entraînement / semaine</label>
              <input type="number" class="form-control" name="jours" id="jours" required>
            </div>
            <div class="mb-4">
              <label for="regime" class="form-label">Préférences alimentaires</label>
              <select class="form-select" name="regime" id="regime" required>
                <option value="aucune">Aucune</option>
                <option value="végétarien">Végétarien</option>
                <option value="végan">Végan</option>
                <option value="sans gluten">Sans gluten</option>
              </select>
            </div>
            <button type="submit" class="btn btn-dark w-100">Générer mon programme</button>
          </form>
        </div>
      </div>
    </div>
  </div>

  <!-- Script bouton animé + barre de progression -->
  <script>
    const form = document.querySelector("form");
    const button = form.querySelector("button");
    const progressBar = document.getElementById("progress-bar");

    form.addEventListener("submit", () => {
      button.disabled = true;
      button.innerHTML = `<span class="spinner-border spinner-border-sm me-2" role="status" aria-hidden="true"></span> Chargement...`;

      progressBar.style.width = "40%";
      setTimeout(() => {
        progressBar.style.width = "80%";
      }, 500);
      setTimeout(() => {
        progressBar.style.width = "100%";
      }, 1000);
    });
  </script>
</body>
</html>
